<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>spython.instance package &mdash; Singularity Python API 1 documentation</title>
      <link rel="stylesheet" href="../assets/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../assets/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../assets/js/html5shiv.min.js"></script>
  <![endif]-->

        <script data-url_root="../" id="documentation_options" src="../assets/documentation_options.js"></script>
        <script src="../assets/jquery.js"></script>
        <script src="../assets/underscore.js"></script>
        <script src="../assets/doctools.js"></script>
    <script src="../assets/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="spython.instance.cmd package" href="spython.instance.cmd.html" />
    <link rel="prev" title="spython.image.cmd package" href="spython.image.cmd.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Singularity Python API
          </a>
              <div class="version">
                0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="spython.html">spython package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="spython.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="spython.client.html">spython.client package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.image.html">spython.image package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">spython.instance package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-spython.instance">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spython.logger.html">spython.logger package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.main.html">spython.main package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.utils.html">spython.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#module-spython.version">spython.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#module-spython">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Singularity Python API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="spython.html">spython package</a> &raquo;</li>
      <li>spython.instance package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/source/spython.instance.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="spython-instance-package">
<h1>spython.instance package<a class="headerlink" href="#spython-instance-package" title="Permalink to this headline"></a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="spython.instance.cmd.html">spython.instance.cmd package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="spython.instance.cmd.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.instance.cmd.html#spython-instance-cmd-iutils-module">spython.instance.cmd.iutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.instance.cmd.html#module-spython.instance.cmd.start">spython.instance.cmd.start module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.instance.cmd.html#module-spython.instance.cmd.stop">spython.instance.cmd.stop module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.instance.cmd.html#module-spython.instance.cmd">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-spython.instance">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-spython.instance" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="spython.instance.Instance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-prename descclassname"><span class="pre">spython.instance.</span></code><code class="sig-name descname"><span class="pre">Instance</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">image</span></span></em>, <em><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="spython.image.html#spython.image.ImageBase" title="spython.image.ImageBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">spython.image.ImageBase</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="spython.instance.Instance.RobotNamer">
<code class="sig-name descname"><span class="pre">RobotNamer</span></code><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;spython.main.base.generate.RobotNamer</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#spython.instance.Instance.RobotNamer" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spython.instance.Instance.debug">
<code class="sig-name descname"><span class="pre">debug</span></code><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#spython.instance.Instance.debug" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.error_logs">
<code class="sig-name descname"><span class="pre">error_logs</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">print_logs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.error_logs" title="Permalink to this definition"></a></dt>
<dd><p>For Singularity 3.5 and later, we are able to programatically
derive the name of the log. In this case, return the content
to the user. See
<a class="reference external" href="https://github.com/sylabs/singularity/issues/1115#issuecomment-560457918">https://github.com/sylabs/singularity/issues/1115#issuecomment-560457918</a>
for when this was added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_logs</strong> (<em>boolean to indicate to print to the screen along with</em>) – return (defaults to False to just return log string)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.generate_name">
<code class="sig-name descname"><span class="pre">generate_name</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance.generate_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance.generate_name" title="Permalink to this definition"></a></dt>
<dd><p>generate a Robot Name for the instance to use, if the user doesn’t
supply one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.get_uri">
<code class="sig-name descname"><span class="pre">get_uri</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance.get_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance.get_uri" title="Permalink to this definition"></a></dt>
<dd><p>return the image uri (instance://) along with it’s name</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spython.instance.Instance.instance">
<code class="sig-name descname"><span class="pre">instance</span></code><a class="headerlink" href="#spython.instance.Instance.instance" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#spython.instance.Instance" title="spython.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">spython.instance.Instance</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.output_logs">
<code class="sig-name descname"><span class="pre">output_logs</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">print_logs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.output_logs" title="Permalink to this definition"></a></dt>
<dd><p>Get output logs for the user, if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>print_logs</strong> (<em>boolean to indicate to print to the screen along with</em>) – return (defaults to False to just return log string)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.parse_image_name">
<code class="sig-name descname"><span class="pre">parse_image_name</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance.parse_image_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance.parse_image_name" title="Permalink to this definition"></a></dt>
<dd><p>simply split the uri from the image. Singularity handles
parsing of registry, namespace, image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image</strong> (<em>the complete image uri to load (e.g., docker://ubuntu)</em>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="spython.instance.Instance.quiet">
<code class="sig-name descname"><span class="pre">quiet</span></code><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#spython.instance.Instance.quiet" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.read_logs_err">
<code class="sig-name descname"><span class="pre">read_logs_err</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance.read_logs_err"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance.read_logs_err" title="Permalink to this definition"></a></dt>
<dd><p>Read error log file, if it exists</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.read_logs_out">
<code class="sig-name descname"><span class="pre">read_logs_out</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/instance.html#Instance.read_logs_out"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spython.instance.Instance.read_logs_out" title="Permalink to this definition"></a></dt>
<dd><p>Read output log file, if it exists</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.run_command">
<code class="sig-name descname"><span class="pre">run_command</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">sudo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">capture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em><span class="n"><span class="pre">no_newline_regexp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Progess'</span></span></em>, <em><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">sudo_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">environ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.run_command" title="Permalink to this definition"></a></dt>
<dd><p>run_command uses subprocess to send a command to the terminal. If
capture is True, we use the parent stdout, so the progress bar (and
other commands of interest) are piped to the user. This means we
don’t return the output to parse.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmd</strong> (<em>the command to send, should be a list for subprocess</em>)</li>
<li><strong>sudo</strong> (<em>if needed, add to start of command</em>)</li>
<li><strong>no_newline_regexp</strong> (<em>the regular expression to determine skipping a</em>) – newline. Defaults to finding Progress</li>
<li><strong>capture</strong> (<em>if True, don’t set stdout and have it go to console. This</em>) – option can print a progress bar, but won’t return the lines
as output.</li>
<li><strong>sudo_options</strong> (<em>string or list of strings that will be passed as options to sudo</em>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.start">
<code class="sig-name descname"><span class="pre">start</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">sudo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">sudo_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">capture</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">singularity_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">environ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.start" title="Permalink to this definition"></a></dt>
<dd><p>start an instance. This is done by default when an instance is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image</strong> (<em>optionally, an image uri (if called as a command from Client)</em>)</li>
<li><strong>name</strong> (<em>a name for the instance</em>)</li>
<li><strong>sudo</strong> (<em>if the user wants to run the command with sudo</em>)</li>
<li><strong>capture</strong> (<em>capture output, default is False. With True likely to hang.</em>)</li>
<li><strong>args</strong> (<em>arguments to provide to the instance (supported Singularity 3.1+)</em>)</li>
<li><strong>singularity_options</strong> (<em>a list of options to provide to the singularity client</em>)</li>
<li><strong>quiet</strong> (<em>Do not print verbose output.</em>)</li>
<li><strong>options</strong> (<em>a list of tuples, each an option to give to the start command</em>) – [(“–bind”, “/tmp”),…]</li>
<li><strong>USAGE</strong></li>
<li><strong>singularity […] instance.start […] &lt;container path&gt; &lt;instance name&gt;</strong></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.stop">
<code class="sig-name descname"><span class="pre">stop</span></code><span class="sig-paren">(</span><em><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">sudo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">sudo_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">singularity_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">quiet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.stop" title="Permalink to this definition"></a></dt>
<dd><p>stop an instance. This is done by default when an instance is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>a name for the instance</em>)</li>
<li><strong>sudo</strong> (<em>if the user wants to run the command with sudo</em>)</li>
<li><strong>singularity_options</strong> (<em>a list of options to provide to the singularity client</em>)</li>
<li><strong>quiet</strong> (<em>Do not print verbose output.</em>)</li>
<li><strong>timeout</strong> (<em>forcebly kill non-stopped instance after the</em>) – timeout specified in seconds</li>
<li><strong>USAGE</strong></li>
<li><strong>singularity […] instance.stop […] &lt;instance name&gt;</strong></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="spython.instance.Instance.version">
<code class="sig-name descname"><span class="pre">version</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#spython.instance.Instance.version" title="Permalink to this definition"></a></dt>
<dd><p>Shortcut to get_singularity_version, takes no arguments.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="spython.image.cmd.html" class="btn btn-neutral float-left" title="spython.image.cmd package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="spython.instance.cmd.html" class="btn btn-neutral float-right" title="spython.instance.cmd package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, Vanessa Sochat.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
