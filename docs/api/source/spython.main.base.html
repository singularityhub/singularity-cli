

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>spython.main.base package &mdash; Singularity Python API 1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../assets/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../assets/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="spython.main.parse package" href="spython.main.parse.html" />
    <link rel="prev" title="spython.main package" href="spython.main.html" /> 

  
  <script src="../assets/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Singularity Python API
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="spython.html">spython package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="spython.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="spython.client.html">spython.client package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.image.html">spython.image package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.instance.html">spython.instance package</a></li>
<li class="toctree-l3"><a class="reference internal" href="spython.logger.html">spython.logger package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="spython.main.html">spython.main package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="spython.main.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.apps">spython.main.apps module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.build">spython.main.build module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.execute">spython.main.execute module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.help">spython.main.help module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.inspect">spython.main.inspect module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.instances">spython.main.instances module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.pull">spython.main.pull module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main.run">spython.main.run module</a></li>
<li class="toctree-l4"><a class="reference internal" href="spython.main.html#module-spython.main">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spython.utils.html">spython.utils package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#module-spython.version">spython.version module</a></li>
<li class="toctree-l2"><a class="reference internal" href="spython.html#module-spython">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">CHANGELOG</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Singularity Python API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="spython.html">spython package</a> &raquo;</li>
        
          <li><a href="spython.main.html">spython.main package</a> &raquo;</li>
        
      <li>spython.main.base package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/spython.main.base.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="spython-main-base-package">
<h1>spython.main.base package<a class="headerlink" href="#spython-main-base-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-spython.main.base.command">
<span id="spython-main-base-command-module"></span><h2>spython.main.base.command module<a class="headerlink" href="#module-spython.main.base.command" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="spython.main.base.command.generate_bind_list">
<code class="descclassname">spython.main.base.command.</code><code class="descname">generate_bind_list</code><span class="sig-paren">(</span><em>self</em>, <em>bindlist=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/command.html#generate_bind_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.command.generate_bind_list" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>generate bind string will take a single string or list of binds, and</dt><dd><p>return a list that can be added to an exec or run command. For example,
the following map as follows:</p>
</dd>
</dl>
<p>[‘/host:/container’, ‘/both’] –&gt; [“–bind”, “/host:/container”,”–bind”,”/both” ]
[‘/both’]                     –&gt; [“–bind”, “/both”]
‘/host:container’             –&gt; [“–bind”, “/host:container”]</p>
<blockquote>
<div><p>None                         –&gt; []</p>
<p>An empty bind or otherwise value of None should return an empty list.
The binds are also checked on the host.</p>
<p>bindlist: a string or list of bind mounts</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.command.init_command">
<code class="descclassname">spython.main.base.command.</code><code class="descname">init_command</code><span class="sig-paren">(</span><em>self</em>, <em>action</em>, <em>flags=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/command.html#init_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.command.init_command" title="Permalink to this definition">¶</a></dt>
<dd><p>return the initial Singularity command with any added flags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<em>the main action to perform (e.g., build)</em>)</p></li>
<li><p><strong>flags</strong> (<em>one or more additional flags (e.g, volumes)</em>) – not implemented yet.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.command.run_command">
<code class="descclassname">spython.main.base.command.</code><code class="descname">run_command</code><span class="sig-paren">(</span><em>self</em>, <em>cmd</em>, <em>sudo=False</em>, <em>capture=True</em>, <em>quiet=None</em>, <em>return_result=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/command.html#run_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.command.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>run_command is a wrapper for the global run_command, checking first
for sudo and exiting on error if needed. The message is returned as
a list of lines for the calling function to parse, and stdout uses
the parent process so it appears for the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>the command to run</em>)</p></li>
<li><p><strong>sudo</strong> (<em>does the command require sudo?</em>)</p></li>
<li><p><strong>quiet</strong> (<em>if quiet set by function, overrides client setting.</em>)</p></li>
<li><p><strong>return_result</strong> (<em>return the result, if not successful (default False).</em>)</p></li>
<li><p><strong>On success, returns result.</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.command.send_command">
<code class="descclassname">spython.main.base.command.</code><code class="descname">send_command</code><span class="sig-paren">(</span><em>self</em>, <em>cmd</em>, <em>sudo=False</em>, <em>stderr=None</em>, <em>stdout=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/command.html#send_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.command.send_command" title="Permalink to this definition">¶</a></dt>
<dd><p>send command is a non interactive version of run_command, meaning
that we execute the command and return the return value, but don’t
attempt to stream any content (text from the screen) back to the
user. This is useful for commands interacting with OCI bundles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>the list of commands to send to the terminal</em>)</p></li>
<li><p><strong>sudo</strong> (<em>use sudo (or not)</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spython.main.base.flags">
<span id="spython-main-base-flags-module"></span><h2>spython.main.base.flags module<a class="headerlink" href="#module-spython.main.base.flags" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>GLOBAL OPTIONS:</dt><dd><p>-d|–debug    Print debugging information
-h|–help     Display usage summary
-s|–silent   Only print errors
-q|–quiet    Suppress all normal output</p>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">--version</span></kbd></dt>
<dd><p>Show application version</p>
</dd>
</dl>
</div></blockquote>
<p>-v|–verbose  Increase verbosity +1
-x|–sh-debug Print shell wrapper debugging information</p>
</dd>
<dt>GENERAL COMMANDS:</dt><dd><p>help       Show additional help for a command or container
selftest   Run some self tests for singularity install</p>
</dd>
<dt>CONTAINER USAGE COMMANDS:</dt><dd><p>exec       Execute a command within container
run        Launch a runscript within container
shell      Run a Bourne shell within container
test       Launch a testscript within container</p>
</dd>
<dt>CONTAINER MANAGEMENT COMMANDS:</dt><dd><p>apps       List available apps within a container
bootstrap  <em>Deprecated</em> use build instead
build      Build a new Singularity container
check      Perform container lint checks
inspect    Display container’s metadata
mount      Mount a Singularity container image
pull       Pull a Singularity/Docker container to $PWD
siflist    list data object descriptors of a SIF container image
sign       Sign a group of data objects in container
verify     Verify the crypto signature of group of data objects in container</p>
</dd>
<dt>COMMAND GROUPS:</dt><dd><p>capability User’s capabilities management command group
image      Container image command group
instance   Persistent instance command group</p>
</dd>
</dl>
<dl class="function">
<dt id="spython.main.base.flags.parse_verbosity">
<code class="descclassname">spython.main.base.flags.</code><code class="descname">parse_verbosity</code><span class="sig-paren">(</span><em>self</em>, <em>args</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/flags.html#parse_verbosity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.flags.parse_verbosity" title="Permalink to this definition">¶</a></dt>
<dd><p>parse_verbosity will take an argument object, and return the args
passed (from a dictionary) to a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>the argparse argument objects</em>)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spython.main.base.generate">
<span id="spython-main-base-generate-module"></span><h2>spython.main.base.generate module<a class="headerlink" href="#module-spython.main.base.generate" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="spython.main.base.generate.RobotNamer">
<em class="property">class </em><code class="descclassname">spython.main.base.generate.</code><code class="descname">RobotNamer</code><a class="reference internal" href="../modules/spython/main/base/generate.html#RobotNamer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.generate.RobotNamer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="spython.main.base.generate.RobotNamer.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>delim='-'</em>, <em>length=4</em>, <em>chars='0123456789'</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/generate.html#RobotNamer.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.generate.RobotNamer.generate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Generate a robot name. Inspiration from Haikunator, but much more</dt><dd><p>poorly implemented ;)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delim</strong> (<em>Delimiter</em>)</p></li>
<li><p><strong>length</strong> (<em>TokenLength</em>)</p></li>
<li><p><strong>chars</strong> (<em>TokenChars</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="spython.main.base.generate.main">
<code class="descclassname">spython.main.base.generate.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/generate.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.generate.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-spython.main.base.logger">
<span id="spython-main-base-logger-module"></span><h2>spython.main.base.logger module<a class="headerlink" href="#module-spython.main.base.logger" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="spython.main.base.logger.init_level">
<code class="descclassname">spython.main.base.logger.</code><code class="descname">init_level</code><span class="sig-paren">(</span><em>self</em>, <em>quiet=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/logger.html#init_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.logger.init_level" title="Permalink to this definition">¶</a></dt>
<dd><p>set the logging level based on the environment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>quiet</strong> (<em>boolean if True, set to quiet. Gets overriden by environment</em>) – setting, and only exists to define default</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.logger.println">
<code class="descclassname">spython.main.base.logger.</code><code class="descname">println</code><span class="sig-paren">(</span><em>self</em>, <em>output</em>, <em>quiet=False</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/logger.html#println"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.logger.println" title="Permalink to this definition">¶</a></dt>
<dd><p>print will print the output, given that quiet is not True. This
function also serves to convert output in bytes to utf-8</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>the string to print</em>)</p></li>
<li><p><strong>quiet</strong> (<em>a runtime variable to over-ride the default.</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spython.main.base.sutils">
<span id="spython-main-base-sutils-module"></span><h2>spython.main.base.sutils module<a class="headerlink" href="#module-spython.main.base.sutils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="spython.main.base.sutils.get_filename">
<code class="descclassname">spython.main.base.sutils.</code><code class="descname">get_filename</code><span class="sig-paren">(</span><em>self</em>, <em>image</em>, <em>ext='sif'</em>, <em>pwd=True</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/sutils.html#get_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.sutils.get_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>return an image filename based on the image uri.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ext</strong> (<em>the extension to use</em>)</p></li>
<li><p><strong>pwd</strong> (<em>derive a filename for the pwd</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.sutils.get_uri">
<code class="descclassname">spython.main.base.sutils.</code><code class="descname">get_uri</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/sutils.html#get_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.sutils.get_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the loaded image object (self.simage) has an associated uri
return if yes, None if not.</p>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.sutils.load">
<code class="descclassname">spython.main.base.sutils.</code><code class="descname">load</code><span class="sig-paren">(</span><em>self</em>, <em>image=None</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/sutils.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.sutils.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load an image, either an actual path on the filesystem or a uri.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>the image path or uri to load (e.g., docker://ubuntu</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="spython.main.base.sutils.setenv">
<code class="descclassname">spython.main.base.sutils.</code><code class="descname">setenv</code><span class="sig-paren">(</span><em>self</em>, <em>variable</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base/sutils.html#setenv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.sutils.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>set an environment variable for Singularity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>the variable to set</em>)</p></li>
<li><p><strong>value</strong> (<em>the value to set</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-spython.main.base">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-spython.main.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="spython.main.base.Client">
<em class="property">class </em><code class="descclassname">spython.main.base.</code><code class="descname">Client</code><a class="reference internal" href="../modules/spython/main/base.html#Client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.Client" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="spython.main.base.Client.RobotNamer">
<code class="descname">RobotNamer</code><em class="property"> = &lt;spython.main.base.generate.RobotNamer object&gt;</em><a class="headerlink" href="#spython.main.base.Client.RobotNamer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.apps">
<code class="descname">apps</code><span class="sig-paren">(</span><em>image=None</em>, <em>full_path=False</em>, <em>root=''</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.apps" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of SCIF apps in image. The Singularity software serves
a scientific filesystem integration that will install apps to
/scif/apps and associated data to /scif/data. For more information
about SCIF, see <a class="reference external" href="https://sci-f.github.io">https://sci-f.github.io</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>full_path</strong> (<em>if True, return relative to scif base folder</em>)</p></li>
<li><p><strong>image_path</strong> (<em>full path to the image</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>recipe=None</em>, <em>image=None</em>, <em>isolated=False</em>, <em>sandbox=False</em>, <em>writable=False</em>, <em>build_folder=None</em>, <em>robot_name=False</em>, <em>ext='simg'</em>, <em>sudo=True</em>, <em>stream=False</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.build" title="Permalink to this definition">¶</a></dt>
<dd><p>build a singularity image, optionally for an isolated build
(requires sudo). If you specify to stream, expect the image name
and an iterator to be returned.</p>
<p>image, builder = Client.build(…)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recipe</strong> (<em>the path to the recipe file (or source to build from). If not</em>) – defined, we look for “Singularity” file in $PWD</p></li>
<li><p><strong>image</strong> (<em>the image to build (if None, will use arbitary name</em>)</p></li>
<li><p><strong>isolated</strong> (<em>if True, run build with –isolated flag</em>)</p></li>
<li><p><strong>sandbox</strong> (<em>if True, create a writable sandbox</em>)</p></li>
<li><p><strong>writable</strong> (<em>if True, use writable ext3 (sandbox takes preference)</em>)</p></li>
<li><p><strong>build_folder</strong> (<em>where the container should be built.</em>)</p></li>
<li><p><strong>ext</strong> (<em>the image extension to use.</em>)</p></li>
<li><p><strong>robot_name</strong> (<em>boolean, default False. if you don’t give your image a</em>) – name (with “image”) then a fun robot name will be generated
instead. Highly recommended :)</p></li>
<li><p><strong>sudo</strong> (<em>give sudo to the command (or not) default is True for build</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spython.main.base.Client.debug">
<code class="descname">debug</code><em class="property"> = False</em><a class="headerlink" href="#spython.main.base.Client.debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>image=None</em>, <em>command=None</em>, <em>app=None</em>, <em>writable=False</em>, <em>contain=False</em>, <em>bind=None</em>, <em>stream=False</em>, <em>nv=False</em>, <em>return_result=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>execute: send a command to a container</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>full path to singularity image</em>)</p></li>
<li><p><strong>command</strong> (<em>command to send to container</em>)</p></li>
<li><p><strong>app</strong> (<em>if not None, execute a command in context of an app</em>)</p></li>
<li><p><strong>writable</strong> (<em>This option makes the file system accessible as read/write</em>)</p></li>
<li><p><strong>contain</strong> (<em>This option disables the automatic sharing of writable</em>) – filesystems on your host</p></li>
<li><p><strong>bind</strong> (<em>list or single string of bind paths.</em>) – This option allows you to map directories on your host system to
directories within your container using bind mounts</p></li>
<li><p><strong>nv</strong> (<em>if True, load Nvidia Drivers in runtime (default False)</em>)</p></li>
<li><p><strong>return_result</strong> (<em>if True, return entire json object with return code</em>) – and message result (default is False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.export">
<code class="descname">export</code><span class="sig-paren">(</span><em>image_path</em>, <em>pipe=False</em>, <em>output_file=None</em>, <em>command=None</em>, <em>sudo=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.export" title="Permalink to this definition">¶</a></dt>
<dd><p>export will export an image, sudo must be used. If we have Singularity
versions after 3, export is replaced with building into a sandbox.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_path</strong> (<em>full path to image</em>)</p></li>
<li><p><strong>pipe</strong> (<em>export to pipe and not file (default, False)</em>)</p></li>
<li><p><strong>output_file</strong> (<em>if pipe=False, export tar to this file. If not specified,</em>)</p></li>
<li><p><strong>will generate temporary directory.</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.help">
<code class="descname">help</code><span class="sig-paren">(</span><em>command=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.help" title="Permalink to this definition">¶</a></dt>
<dd><p>help prints the general function help, or help for a specific command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>command</strong> (<em>the command to get help for, if none, prints general help</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spython.main.base.Client.image">
<code class="descname">image</code><em class="property"> = &lt;spython.image.cmd.generate_image_commands.&lt;locals&gt;.ImageClient object&gt;</em><a class="headerlink" href="#spython.main.base.Client.image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.inspect">
<code class="descname">inspect</code><span class="sig-paren">(</span><em>image=None</em>, <em>json=True</em>, <em>app=None</em>, <em>quiet=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>inspect will show labels, defile, runscript, and tests for an image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>path of image to inspect</em>)</p></li>
<li><p><strong>json</strong> (<em>print json instead of raw text (default True)</em>)</p></li>
<li><p><strong>quiet</strong> (<em>Don’t print result to the screen (default True)</em>)</p></li>
<li><p><strong>app</strong> (<em>if defined, return help in context of an app</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spython.main.base.Client.instance">
<code class="descname">instance</code><a class="headerlink" href="#spython.main.base.Client.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="spython.instance.html#spython.instance.Instance" title="spython.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">spython.instance.Instance</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.instance_stopall">
<code class="descname">instance_stopall</code><span class="sig-paren">(</span><em>sudo=False</em>, <em>quiet=True</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.instance_stopall" title="Permalink to this definition">¶</a></dt>
<dd><p>stop ALL instances. This command is only added to the command group
as it doesn’t make sense to call from a single instance</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sudo</strong> (<em>if the command should be done with sudo (exposes different set of</em>) – instances)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.instances">
<code class="descname">instances</code><span class="sig-paren">(</span><em>name=None</em>, <em>return_json=False</em>, <em>quiet=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.instances" title="Permalink to this definition">¶</a></dt>
<dd><p>list instances. For Singularity, this is provided as a command sub
group.</p>
<p>singularity instance.list</p>
<p>Return codes provided are different from standard linux:
see <a class="reference external" href="https://github.com/singularityware/singularity/issues/1706">https://github.com/singularityware/singularity/issues/1706</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>return_json</strong> (<em>return a json list of instances instead of objects (False)</em>)</p></li>
<li><p><strong>name</strong> (<em>if defined, return the list for just one instance (used to ged pid)</em>)</p></li>
<li><p><strong>Return Code  –   Reason</strong></p></li>
<li><p><strong>0 – Instances Found</strong></p></li>
<li><p><strong>1 – No Instances, libexecdir value not found, functions file not found</strong></p></li>
<li><p><strong>255 – Couldn’t get UID</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>image=None</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load an image, either an actual path on the filesystem or a uri.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>the image path or uri to load (e.g., docker://ubuntu</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spython.main.base.Client.oci">
<code class="descname">oci</code><em class="property"> = [singularity-python-oci]</em><a class="headerlink" href="#spython.main.base.Client.oci" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.pull">
<code class="descname">pull</code><span class="sig-paren">(</span><em>image=None</em>, <em>name=None</em>, <em>pull_folder=''</em>, <em>ext='simg'</em>, <em>force=False</em>, <em>capture=False</em>, <em>stream=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.pull" title="Permalink to this definition">¶</a></dt>
<dd><p>pull will pull a singularity hub or Docker image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>the complete image uri. If not provided, the client loaded is used</em>)</p></li>
<li><p><strong>pull_folder</strong> (<em>if not defined, pulls to $PWD (‘’). If defined, pulls to</em>) – user specified location instead.</p></li>
<li><p><strong>Docker and Singularity Hub Naming</strong></p></li>
<li><p><strong>———————————</strong></p></li>
<li><p><strong>name</strong> (<em>a custom name to use, to override default</em>)</p></li>
<li><p><strong>ext</strong> (<em>if no name specified, the default extension to use.</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="spython.main.base.Client.quiet">
<code class="descname">quiet</code><em class="property"> = False</em><a class="headerlink" href="#spython.main.base.Client.quiet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>image=None</em>, <em>args=None</em>, <em>app=None</em>, <em>sudo=False</em>, <em>writable=False</em>, <em>contain=False</em>, <em>bind=None</em>, <em>stream=False</em>, <em>nv=False</em>, <em>return_result=False</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run will run the container, with or withour arguments (which
should be provided in a list)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>full path to singularity image</em>)</p></li>
<li><p><strong>args</strong> (<em>args to include with the run</em>)</p></li>
<li><p><strong>app</strong> (<em>if not None, execute a command in context of an app</em>)</p></li>
<li><p><strong>writable</strong> (<em>This option makes the file system accessible as read/write</em>)</p></li>
<li><p><strong>contain</strong> (<em>This option disables the automatic sharing of writable</em>) – filesystems on your host</p></li>
<li><p><strong>bind</strong> (<em>list or single string of bind paths.</em>) – This option allows you to map directories on your host system to
directories within your container using bind mounts</p></li>
<li><p><strong>stream</strong> (<em>if True, return &lt;generator&gt; for the user to run</em>)</p></li>
<li><p><strong>nv</strong> (<em>if True, load Nvidia Drivers in runtime (default False)</em>)</p></li>
<li><p><strong>return_result</strong> (<em>if True, return entire json object with return code</em>) – and message result (default is False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.setenv">
<code class="descname">setenv</code><span class="sig-paren">(</span><em>variable</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#spython.main.base.Client.setenv" title="Permalink to this definition">¶</a></dt>
<dd><p>set an environment variable for Singularity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>the variable to set</em>)</p></li>
<li><p><strong>value</strong> (<em>the value to set</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="spython.main.base.Client.version">
<code class="descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../modules/spython/main/base.html#Client.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#spython.main.base.Client.version" title="Permalink to this definition">¶</a></dt>
<dd><p>a wrapped to get_singularity_version, takes no arguments.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spython.main.parse.html" class="btn btn-neutral float-right" title="spython.main.parse package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="spython.main.html" class="btn btn-neutral" title="spython.main package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Vanessa Sochat.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../assets/jquery.js"></script>
      <script type="text/javascript" src="../assets/underscore.js"></script>
      <script type="text/javascript" src="../assets/doctools.js"></script>
      <script type="text/javascript" src="../assets/language_data.js"></script>

  

  <script type="text/javascript" src="../assets/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>